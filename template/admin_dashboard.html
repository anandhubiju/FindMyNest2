{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.10/css/jquery.dataTables.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">


  <title>FindMyNest</title>
  <meta content="" name="description">
  <meta content="" name="keywords">
<style>
  .card-fixed-size {
    width: 320px; 
    height: 400px; 
  }
  
  .card-hover:hover {
    transform: scale(1.05); 
    transition: transform 0.2s ease; 
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); 
    cursor: pointer;
  }

  thead {
    background-color: #007BFF !important;
    color: white !important;
  }


  #propertyTable {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

/* Style the table header */
#propertyTable thead {
    background-color: #007BFF;
    color: rgb(255, 255, 255);
}

#propertyTable th,
#propertyTable td {
    padding: 10px;
    text-align: center;
    border: 1px solid #ddd;
}

/* Style alternate rows with different background color */
#propertyTable tbody tr:nth-child(even) {
    background-color: #f2f2f2;
}

/* Style the thumbnail image size */
#propertyTable img {
    max-width: 100px;
    max-height: 100px;
}

/* Style the WhatsApp number cell with a link style */
#propertyTable td:nth-child(14) {
    color: #007BFF;
    text-decoration: underline;
    cursor: pointer;
}


#userTable {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

/* Style the table header */
#userTable thead {
  background-color: #007BFF;
  color: white;
}

#userTable th,
#userTable td {
  padding: 10px;
  text-align: center;
  border: 1px solid #ddd;
}

/* Style alternate rows with different background color */
#userTable tbody tr:nth-child(even) {
  background-color: #f2f2f2;
}

/* Style the "Active" and "Inactive" status cells with different colors */
#userTable td:nth-child(8) {
  font-weight: bold;
}

#userTable td:nth-child(8) span.green {
  color: green;
}

#userTable td:nth-child(8) span.red {
  color: red;
}

/* Style the buttons */
#userTable .btn {
  padding: 5px 10px;
}

/* Style the "Update Active Status" button */
#userTable .btn-primary {
  background-color: #007BFF;
  color: white;
}

/* Style the "Delete User" button */
#userTable .btn-danger {
  background-color: red;
  color: white;
}

</style>



<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Favicons -->
  <link href="{% static 'assets/img/favicon.png' %}" rel="icon">
  <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: EstateAgency
  * Updated: Jul 27 2023 with Bootstrap v5.3.1
  * Template URL: https://bootstrapmade.com/real-estate-agency-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Property Search Section ======= -->
  <div class="click-closed"></div>
  <!--/ Form Search Star /-->
  {% comment %} <div class="box-collapse">
    <div class="title-box-d">
      <h3 class="title-d">Search Property</h3>
    </div>
    <span class="close-box-collapse right-boxed bi bi-x"></span>
    <div class="box-collapse-wrap form">
      <form class="form-a">
        <div class="row">
          <div class="col-md-12 mb-2">
            <div class="form-group">
              <label class="pb-2" for="Type">Keyword</label>
              <input type="text" class="form-control form-control-lg form-control-a" placeholder="Keyword">
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="Type">Type</label>
              <select class="form-control form-select form-control-a" id="Type">
                <option>All Type</option>
                <option>For Rent</option>
                <option>For Sale</option>
                <option>Open House</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="city">City</label>
              <select class="form-control form-select form-control-a" id="city">
                <option>All City</option>
                <option>Alabama</option>
                <option>Arizona</option>
                <option>California</option>
                <option>Colorado</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="bedrooms">Bedrooms</label>
              <select class="form-control form-select form-control-a" id="bedrooms">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="garages">Garages</label>
              <select class="form-control form-select form-control-a" id="garages">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
                <option>04</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="bathrooms">Bathrooms</label>
              <select class="form-control form-select form-control-a" id="bathrooms">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="price">Min Price</label>
              <select class="form-control form-select form-control-a" id="price">
                <option>Unlimite</option>
                <option>$50,000</option>
                <option>$100,000</option>
                <option>$150,000</option>
                <option>$200,000</option>
              </select>
            </div>
          </div>
          <div class="col-md-12">
            <button type="submit" class="btn btn-b">Search Property</button>
          </div>
        </div>
      </form>
    </div> {% endcomment %}
  </div><!-- End Property Search Section -->>

  <!-- ======= Header/Navbar ======= -->
  <nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top">
    <div class="container">
      <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarDefault" aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a class="navbar-brand text-brand" href="index.html">FindM<span class="color-b">yNest</span></a>

      <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link " href="{% url 'admindashboard' %}">Dashboard</a>
          </li>


          {% if user.is_superuser %}
          <li class="nav-item">
            <a class="nav-link " href="{% url 'propertylist' %}">Property</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
            <div class="dropdown-menu">
              <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
            </div>
          </li>

          {% comment %} {%  elif  user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link " href="{% url 'propertylist' %}">Property</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="{% url 'addproperty' %}">Post Property</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
            <div class="dropdown-menu">
              <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
              <a class="dropdown-item " href="{% url 'editprofile' %}">Profile</a>
            </div>
          </li> {% endcomment %}
          {% else %}
          <li class="nav-item">
            <a class="nav-link " href="contact.html">Welcome, guest!</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="/register">Register</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="{% url 'login' %}">Login</a>
          </li>
          {% endif %}
        </ul>

      </div>

      <!-- <button type="button" class="btn btn-b-n navbar-toggle-box navbar-toggle-box-collapse" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01">
        <i class="bi bi-search"></i>
      </button> -->

    </div>
  </nav><!-- End Header/Navbar -->

  <main id="main">

    <div class="container" style="max-width: 1500px;">
            <section class="intro-single">
        <div class="row">
          <div class="col-md-12 col-lg-8">
            <div class="title-single-box">
              <h1 class="title-single">Admin Dashboard</h1>
            </div>
          </div>
        </div>
      </section><!-- End Intro Single-->
    
      <!-- ======= Property Grid ======= -->
      
      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="container-fluid p-5" >
    
          <!-- Dashboard top buttons start -->
          <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12">
              <div class="card border-success mb-4 card-hover card-fixed-size"">
                <div class="card-body text-success">
                  <h5 class="card-title">Number Of Users - {{ user_count }}</h5>
                  <a class="card-text" onclick="toggleUserTable()">View All Users</a>
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12">
              <div class="card border-success mb-4 card-hover card-fixed-size"">
                <div class="card-body text-success">
                  <h5 class="card-title">Property Posted - {{ property_count }}</h5>
                  <a class="card-text"  onclick="togglePropertyTable()">View All Property</a>
                </div>
              </div>
            </div>
            {% for property_type_count in property_type_counts %}
            <div class="col-lg-3 col-md-6 col-sm-12">
              <div class="card border-success mb-4 card-hover card-fixed-size"">
                <div class="card-body text-success">
                  <h5 class="card-title">{{ property_type_count.property_type }}: {{ property_type_count.count }}</h5>
                 
                </div>
              </div>
            </div>
            {% endfor %}
            <div class="col-lg-3 col-md-6 col-sm-12">
              <div class="card border-success mb-4 card-hover card-fixed-size"">
                <div class="card-body text-success">
                  <h5 class="card-title">Property Posted - {{ subscription_count }}</h5>
                  <a class="card-text" href="{% url 'add_subscription' %}">Add Subscriptions</a>
                </div>
              </div>
            </div>
          </div>
          <!-- Dashboard top buttons end -->
        </div>
      </form>
      <div class="table-responsive">
        <table class="table table-striped" id="userTable" border="1" style="display: none;">
          <thead style="background-color: #007BFF; color: white;">
              <tr style="background-color: #007BFF; color: white;" >
                  <th>SI NO</th>
                  <th>Username</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Email</th>
                  <th>Phone Number</th>
                  <th>User Type</th>
                  <th>Active Status</th>
                  <th>Update Active Status</th>
                  <th>Delete User</th>
              </tr>
          </thead>
          <tbody>
              {% for user in users %}
              <tr>
                  <td>{{ forloop.counter }}</td>
                  <td><a href="{% url 'user_details' user.id %}?user_id={{ user.id }}">{{ user.username }}</a></td>
                  <td>{{ user.first_name }}</td>
                  <td>{{ user.last_name }}</td>
                  <td>{{ user.email }}</td>
                  <td>{{ user.phone_no }}</td>
                  <td>{{ user.get_user_type_display }}</td>
                  <td>
                    {% if user.is_active %}
                    <span style="color: green;">
                        <i class="bi bi-circle-fill"></i> Active
                    </span>
                    {% else %}
                    <span style="color: red;">
                        <i class="bi bi-circle-fill"></i> Inactive
                    </span>
                    {% endif %}
                </td>
                  <td class="text-white"><a href="{% url 'updateStatus' user.id %}"><button
                              class="btn btn-primary"><i class="bi bi-pencil-square"></i></button></a>
                  </td>
                  <td><a href="{% url 'deleteUser' user.id %}" data-delete-url="{% url 'deleteUser' user.id %}" class="delete-user-link">
                    <button class="btn btn-danger">
                      <i class="bi bi-trash3-fill"></i>
                    </button>
                  </a>
                  </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
      </div>
      <div class="table-responsive">
      <table class="table table-striped"  id="propertyTable" border="1" style="display: none;">
        <thead style="background-color: #007BFF; color: white;">
            <tr>
                <th>SI NO</th>
                <th>Thumbnail</th>
                <th>Owner Name</th>
                <th>Posted User Email</th>
                <th>Posted User UserName</th>
                <th>Property Type</th>
                <th>Status</th>
                <th>Price</th>
                <th>Area</th>
                <th>Rooms</th>
                <th>Address</th>
                <th>City</th>
                <th>State</th>
                <th>WhatsApp Number</th>
                <th>Active</th>
                <th>Delete Property</th>
            </tr>
        </thead>
        <tbody>
          {% for property in properties %}
          <tr>
              <td>{{ forloop.counter }}</td> <!-- Display row number -->
              <td><img src="{{ property.thumbnail.url }}" alt="Thumbnail" width="100"></td>
              <td>{{ property.user.username }}</td>
              <td>{{ property.user.email }}</td>
              <td>{{ property.owner_name }}</td>
              <td>{{ property.property_type }}</td>
              <td>{{ property.status }}</td>
              <td>{{ property.price }}</td>
              <td>{{ property.area }}</td>
              <td>{{ property.rooms }}</td>
              <td>{{ property.address }}</td>
              <td>{{ property.Town }}</td>
              <td>{{ property.state }}</td>
              <td>{{ property.whatsapp_no }}</td>
              <td>
                {% if property.active %}
                <span style="color: green;">
                  <i class="bi bi-circle-fill"></i> Active
              </span>
                {% else %}
                <span style="color: red;">
                        <i class="bi bi-circle-fill"></i> Inactive
                    </span>
                {% endif %}
            </td>
              <td> 
                <a href="{% url 'adelete_property' property.id %}" data-delete-url="{% url 'adelete_property' property.id %}" class="delete-user-link">
                  <button class="btn btn-danger">
                    <i class="bi bi-trash3-fill"></i>
                  </button>
                </a><!-- Delete button with a link to delete the property -->
            </td>
          </tr>
          {% endfor %}
      </tbody>
    </table>
    </div>
    </div><!-- End Container -->
    
  
  
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  {% comment %} <section class="section-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 col-md-4">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">EstateAgency</h3>
            </div>
            <div class="w-body-a">
              <p class="w-text-a color-text-a">
                Enim minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip exea commodo consequat duis
                sed aute irure.
              </p>
            </div>
            <div class="w-footer-a">
              <ul class="list-unstyled">
                <li class="color-a">
                  <span class="color-text-a">Phone .</span> contact@example.com
                </li>
                <li class="color-a">
                  <span class="color-text-a">Email .</span> +54 356 945234
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 section-md-t3">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">The Company</h3>
            </div>
            <div class="w-body-a">
              <div class="w-body-a">
                <ul class="list-unstyled">
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Site Map</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Legal</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Agent Admin</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Careers</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Affiliate</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Privacy Policy</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 section-md-t3">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">International sites</h3>
            </div>
            <div class="w-body-a">
              <ul class="list-unstyled">
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Venezuela</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">China</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Hong Kong</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Argentina</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Singapore</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Philippines</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> {% endcomment %}
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <nav class="nav-footer">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#">Home</a>
              </li>
              <li class="list-inline-item">
                <a href="#">About</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Property</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Blog</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Contact</a>
              </li>
            </ul>
          </nav>
          <div class="socials-a">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-facebook" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-twitter" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-instagram" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-linkedin" aria-hidden="true"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="copyright-footer">
            <p class="copyright color-text-a">
              &copy; Copyright
              <span class="color-a">FindMyNest</span> All Rights Reserved.
            </p>
          </div>
          <div class="credits">
            <!--
            All the links in the footer should remain intact.
            You can delete the links only if you purchased the pro version.
            Licensing information: https://bootstrapmade.com/license/
            Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=EstateAgency
          -->
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
          </div>
        </div>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>


  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Include DataTables JavaScript -->
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.10/js/jquery.dataTables.js"></script>

  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>


  <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>


  



  <script>
    $(document).ready(function() {
        $('#userTable').DataTable();
    });
    </script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>
  <script>
    // Function to initialize DataTable
    function initializeDataTable(tableId, options) {
        return $(tableId).DataTable({
            paging: options.paging,
            searching: options.searching,
            info: options.info,
            autoWidth: options.autoWidth,
        });
    }

    // Initialize userTable with specific options
    var userTableOptions = {
        paging: true,
        searching: true,
        info: false,
        autoWidth: false,
    };
    var userTable = initializeDataTable('#userTable', userTableOptions);

    // Initialize propertyTable with specific options
    var propertyTableOptions = {
        paging: true,
        searching: true,
        info: false,
        autoWidth: false,
    };
    var propertyTable = initializeDataTable('#propertyTable', propertyTableOptions);

    function toggleUserTable() {
        // Hide search and show entries of propertyTable
        propertyTable.search('').draw();
        propertyTable.page.len(-1).draw();

        $('#propertyTable').hide();
        $('#userTable').show();
    }

    function togglePropertyTable() {
        // Hide search and show entries of userTable
        userTable.search('').draw();
        userTable.page.len(-1).draw();

        $('#userTable').hide();
        $('#propertyTable').show();
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/js/bootstrap.min.js"></script>


<div class="modal fade" id="deleteConfirmationModal" tabindex="-1" role="dialog" aria-labelledby="deleteConfirmationModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteConfirmationModalLabel">Confirm Deletion</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this user account?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <a href="#" id="confirmDelete" class="btn btn-danger">Delete</a>
      </div>
    </div>
  </div>
</div>
<script>
  // Get all elements with the class "delete-user-link"
  var deleteLinks = document.querySelectorAll(".delete-user-link");

  // Add a click event listener to each delete link
  deleteLinks.forEach(function (link) {
    link.addEventListener("click", function (event) {
      event.preventDefault(); // Prevent the default link behavior

      // Get the delete URL from the data attribute
      var deleteUrl = link.getAttribute("data-delete-url");

      // Confirm the deletion with a confirmation dialog
      var confirmDeletion = confirm("Are you sure you want to delete this user?");

      if (confirmDeletion) {
        // If confirmed, navigate to the delete URL
        window.location.href = deleteUrl;
      } else {
        // If not confirmed, do nothing
      }
    });
  });
</script>

<script>
 // Get all elements with the class "delete-property-link"
var deleteLinks = document.querySelectorAll(".delete-property-link");

// Add a click event listener to each delete link
deleteLinks.forEach(function (link) {
    link.addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the default link behavior

        // Get the delete URL from the data attribute
        var deleteUrl = link.getAttribute("data-delete-url");

        // Confirm the deletion with a confirmation dialog
        var confirmDeletion = confirm("Are you sure you want to delete this property?");

        if (confirmDeletion) {
            // If confirmed, navigate to the delete URL
            window.location.href = deleteUrl;
        } else {
            // If not confirmed, do nothing
        }
    });
});

</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>